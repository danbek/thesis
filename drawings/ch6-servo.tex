\documentclass[12pt]{article}

\usepackage{../thesis}

\usepackage{tikz} 
\usepackage{pgfplots} % drawing plots right here in this file!
\pgfplotsset{compat=1.9} % latest stable release
\usepgfplotslibrary{statistics}

\pgfplotsset{
  every axis/.append style={
    scale only axis,
    width=2.4in,
  },
  /tikz/every picture/.append style={
    baseline
  }
}

\begin{document}

%
% run thesis/ana_gain.m to generate the addplot commands and the data
% file
%

\pagestyle{empty}

  \begin{tikzpicture}[trim axis left]
	\begin{semilogyaxis}[xmin=-2,xmax=105,ymin=1e-13,ymax=1e-1,
        width=5.7in, height=2.5in,
		title={Servo Rolloff},
		xlabel={Servo Gain $I_{FB}$}, ylabel={$\tau_{servo}$ (s)},
        boxplot/draw direction=y,]
        \addplot[boxplot prepared={draw position=1,box extend=3,lower whisker=2.527966e-03,lower quartile=3.112274e-03,median=6.669761e-03,upper quartile=1.046858e-02,upper whisker=2.037296e-02,},] coordinates {};
        \addplot[boxplot prepared={draw position=5,box extend=3,lower whisker=7.608340e-04,lower quartile=8.631669e-04,median=1.155960e-03,upper quartile=2.027295e-03,upper whisker=2.840552e-03,},] coordinates {};
        \addplot[boxplot prepared={draw position=10,box extend=3,lower whisker=3.614452e-04,lower quartile=4.228051e-04,median=5.587304e-04,upper quartile=1.006356e-03,upper whisker=1.325214e-03,},] coordinates {};
        \addplot[boxplot prepared={draw position=20,box extend=3,lower whisker=1.600547e-04,lower quartile=1.933650e-04,median=2.569559e-04,upper quartile=4.838363e-04,upper whisker=6.206078e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=30,box extend=3,lower whisker=9.334488e-05,lower quartile=1.168631e-04,median=1.581987e-04,upper quartile=3.125289e-04,upper whisker=4.054258e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=40,box extend=3,lower whisker=5.950454e-05,lower quartile=7.874111e-05,median=1.092667e-04,upper quartile=2.261527e-04,upper whisker=2.954331e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=50,box extend=3,lower whisker=3.455995e-05,lower quartile=5.542452e-05,median=7.987264e-05,upper quartile=1.731605e-04,upper whisker=2.301375e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=60,box extend=3,lower whisker=6.385770e-11,lower quartile=4.048311e-05,median=6.004507e-05,upper quartile=1.388426e-04,upper whisker=1.867646e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=70,box extend=3,lower whisker=5.400771e-11,lower quartile=8.883726e-10,median=4.549293e-05,upper quartile=1.142185e-04,upper whisker=1.549826e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=80,box extend=3,lower whisker=3.718224e-11,lower quartile=2.351472e-10,median=3.581057e-05,upper quartile=9.788120e-05,upper whisker=4.623415e-02,},] coordinates {};
        \addplot[boxplot prepared={draw position=90,box extend=3,lower whisker=8.197415e-12,lower quartile=3.795997e-11,median=1.590768e-09,upper quartile=8.080704e-05,upper whisker=1.779249e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=100,box extend=3,lower whisker=1.818759e-12,lower quartile=7.520752e-11,median=1.364151e-09,upper quartile=6.893584e-05,upper whisker=8.685504e+06,},] coordinates {};
	\end{semilogyaxis}
  \end{tikzpicture}

\begin{tabular}{rr}

  \begin{tikzpicture}[trim axis left]
	\begin{semilogyaxis}[%ymin=0,%xmin=950,xmax=1250,
		title={Servo Rolloff},
		xlabel={Servo Gain $I_{FB}$}, ylabel={$\tau_{servo}$ (s)},
        boxplot/draw direction=y,]
        \addplot[boxplot prepared={draw position=10,box extend=4,lower whisker=3.614452e-04,lower quartile=4.228051e-04,median=5.587304e-04,upper quartile=1.006356e-03,upper whisker=1.325214e-03,},] coordinates {};
        \addplot[boxplot prepared={draw position=20,box extend=4,lower whisker=1.600547e-04,lower quartile=1.933650e-04,median=2.569559e-04,upper quartile=4.838363e-04,upper whisker=6.206078e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=30,box extend=4,lower whisker=9.334488e-05,lower quartile=1.168631e-04,median=1.581987e-04,upper quartile=3.125289e-04,upper whisker=4.054258e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=40,box extend=4,lower whisker=5.950454e-05,lower quartile=7.874111e-05,median=1.092667e-04,upper quartile=2.261527e-04,upper whisker=2.954331e-04,},] coordinates {};
        \addplot[boxplot prepared={draw position=50,box extend=4,lower whisker=3.455995e-05,lower quartile=5.542452e-05,median=7.987264e-05,upper quartile=1.731605e-04,upper whisker=2.301375e-04,},] coordinates {};
	\end{semilogyaxis}
  \end{tikzpicture}

  &

  \begin{tikzpicture}[trim axis right]
	\begin{axis}[ymin=0,%xmin=950,xmax=1250,
		title={\SQUID\ Noise},
		xlabel={Servo Gain $I_{FB}$}, ylabel={Median Noise (\Inoise{})},
        ]
	  \addplot+[only marks] table[x=gain,y=noise]{../data/ch6-servo-noise-vs-gain.dat};
	\end{axis}
  \end{tikzpicture}

  \\
\end{tabular}
\end{document}
